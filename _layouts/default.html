    <!DOCTYPE html>
<html lang="en">
  <head>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-CXTZ47B3JK"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-CXTZ47B3JK');
    </script>
      
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ page.title }} · {{ site.title }}</title>
    <link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">
    <link rel="icon" type="image/png" href="{{ '/assets/img/favicon.png' | relative_url }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jersey+10&display=swap" rel="stylesheet">
    {% seo %}
  </head>

  <body>
    <!-- Sidebar (stays fixed; content gets pushed) -->
    <aside class="sidebar" aria-label="Site navigation">
      <!-- Profile block -->
      <div class="profile-block">
        <a href="{{ '/about/' | relative_url }}" class="profile-link">
          <img
            src="{{ '/assets/img/profile.jpg' | relative_url }}"
            alt="Profile photo"
            class="profile-img"
          />
        </a>

        <div class="profile-name">Stephanie Liew</div>
        <div class="profile-tagline">Profile</div>
      </div>

      <!-- Navigation -->
      <nav class="nav">
        <a href="{{ '/' | relative_url }}">Home</a>
        <a href="{{ '/projects/' | relative_url }}">Projects</a>
      </nav>

      <div class="sidebar-footer">
        <a
          href="https://www.linkedin.com/in/stephliewjy/"
          target="_blank"
          rel="noopener"
          aria-label="LinkedIn"
        >
          <svg class="linkedin-icon" viewBox="0 0 72 72" aria-hidden="true">
            <circle cx="36" cy="36" r="36" fill="#0A66C2" />
            <path
              fill="#ffffff"
              d="M20 27h8v25h-8V27zm4-12c-2.6 0-4.7 2.1-4.7 4.7 0 2.6 2.1 4.7 4.7 4.7 2.6 0 4.7-2.1 4.7-4.7 0-2.6-2.1-4.7-4.7-4.7zM34 27h7.7v3.4h.1c1.1-2.1 3.8-4.3 7.8-4.3 8.3 0 9.8 5.4 9.8 12.4V52h-8V39.4c0-3 0-6.8-4.2-6.8-4.2 0-4.9 3.3-4.9 6.6V52h-8V27z"
            />
          </svg>
        </a>
      </div>
    </aside>

    <!-- Optional: dimmed backdrop (click to close) -->
    <div class="drawer-backdrop" aria-hidden="true"></div>

    <!-- Everything inside here will shift right when nav opens -->
    <div class="app-shell">
      <header class="topbar">
        <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false">☰</button>
       
        <div class="eq-wallpaper" aria-hidden="true">
          <span>\(C = S N(d_1) - K e^{-rT} N(d_2)\)</span>
          <span>\(P = K e^{-rT} N(-d_2) - S N(-d_1)\)</span>
          <span>\(C - P = S - K e^{-rT}\)</span>
          <span>\(dS_t = \mu S_t dt + \sigma S_t dW_t\)</span>
          <span>\(\hat{\beta} = (X^\top X)^{-1} X^\top y\)</span>
        </div>
        
        <div class="banner-content">
          <h1 class="banner-title">
            <a href="{{ '/' | relative_url }}" class="banner-home-link">
              AlphaSteph
            </a>
          </h1>
        </div>
      </header>

      <!-- Main content -->
      <main class="main">
        <div class="main-inner">
          <section class="content">
            {{ content }}

                {% if page.layout == "post" %}
                <section class="comments">
                  <h2>Comments</h2>
                  <script src="https://giscus.app/client.js"
                    data-repo="YOURUSER/YOURREPO"
                    data-repo-id="YOUR_REPO_ID"
                    data-category="Comments"
                    data-category-id="YOUR_CATEGORY_ID"
                    data-mapping="pathname"
                    data-strict="0"
                    data-reactions-enabled="1"
                    data-emit-metadata="0"
                    data-input-position="top"
                    data-theme="preferred_color_scheme"
                    data-lang="en"
                    crossorigin="anonymous"
                    async>
                  </script>
                </section>
                {% endif %}

          </section>
        </div>
      </main>
    </div>
    <script>
      window.MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']],
          displayMath: [['$$', '$$'], ['\\[', '\\]']]
        }
      };
    </script>

<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const toggle = document.querySelector('.nav-toggle');
        const sidebar = document.querySelector('.sidebar');
        const backdrop = document.querySelector('.drawer-backdrop');

        if (!toggle || !sidebar) return;

        function setOpen(open) {
          document.body.classList.toggle('nav-open', open);
          sidebar.classList.toggle('open', open);
          toggle.setAttribute('aria-expanded', open ? 'true' : 'false');
        }

        toggle.addEventListener('click', (e) => {
          e.preventDefault();
          const open = !document.body.classList.contains('nav-open');
          setOpen(open);
        });

        if (backdrop) {
          backdrop.addEventListener('click', () => setOpen(false));
        }

        document.addEventListener('keydown', (e) => {
          if (e.key === 'Escape') setOpen(false);
        });
      });
    </script>

    <script>
      (function () {
        const feedEl = document.getElementById("post-feed");
        const loadingEl = document.getElementById("feed-loading");
        if (!feedEl) return; // only run on homepage

        let posts = [];
        let index = 0;
        const PAGE_SIZE = 5;

        function renderNext() {
          const slice = posts.slice(index, index + PAGE_SIZE);
          index += slice.length;

          for (const p of slice) {
            const card = document.createElement("article");
            card.className = "post-card";
            card.innerHTML = `
              <a class="post-card-link" href="${p.url}">
                <div class="post-card-header">
                  <h2 class="post-title">${p.title}</h2>
                  <div class="post-meta">${p.date}</div>
                </div>
                <p class="post-excerpt">${p.excerpt || ""}</p>
              </a>
                {% if post.summary %}
                    <p class="post-summary">
                      {{ post.summary }}
                    </p>
                {% endif %}
            `;
            feedEl.appendChild(card);
          }

          if (index >= posts.length) {
            loadingEl.textContent = "You’ve reached the end.";
            observer.disconnect();
          } else {
            loadingEl.textContent = "Loading…";
          }
        }

        const observer = new IntersectionObserver((entries) => {
          if (entries[0].isIntersecting) renderNext();
        }, { rootMargin: "300px" });

        fetch("/feed.json")
          .then(r => r.json())
          .then(data => {
            posts = data;
            loadingEl.textContent = "Loading…";
            renderNext();
            observer.observe(loadingEl);
          })
          .catch(() => {
            loadingEl.textContent = "Couldn’t load posts.";
          });
      })();
    </script>

  </body>
</html>
